<idea-plugin>
    <id>com.claudecodechat</id>
    <name>Claude Code Chat</name>
    <vendor email="support@claudecodechat.com" url="https://github.com/lockelee1015/claude-intellij">Claude Code Chat</vendor>
    
    <description><![CDATA[
        <h2>Claude Code Chat - AI Assistant for IntelliJ</h2>
        <p>Chat with Claude AI directly in your IntelliJ IDE for code assistance, explanations, and generation.</p>
        
        <h3>Features:</h3>
        <ul>
            <li>Interactive chat interface with Claude AI</li>
            <li>Code context awareness - send selected code to Claude</li>
            <li>Syntax highlighting in chat responses</li>
            <li>Tool window integration</li>
            <li>Configurable API settings</li>
        </ul>
        
        <h3>Getting Started:</h3>
        <ol>
            <li>Open the Claude Chat tool window (View → Tool Windows → Claude Chat)</li>
            <li>Configure your API key in Settings → Tools → Claude Code Chat</li>
            <li>Start chatting with Claude!</li>
        </ol>
    ]]></description>
    
    <change-notes><![CDATA[
        <h3>Version 1.0.0</h3>
        <ul>
            <li>Initial release</li>
            <li>Basic chat functionality with Claude AI</li>
            <li>Tool window interface</li>
            <li>Settings configuration</li>
        </ul>
    ]]></change-notes>
    
    <depends>com.intellij.modules.platform</depends>
    
    <extensions defaultExtensionNs="com.intellij">
        <!-- Tool Window -->
        <toolWindow id="Claude Chat"
                    secondary="false"
                    icon="/META-INF/pluginIcon.svg"
                    anchor="right"
                    factoryClass="com.claudecodechat.toolWindow.ClaudeChatComposeToolWindowFactory"/>
        
        <!-- Settings -->
        <applicationConfigurable
                parentId="tools"
                instance="com.claudecodechat.settings.ClaudeSettingsConfigurable"
                id="com.claudecodechat.settings"
                displayName="Claude Code Chat"/>
        
        <!-- Application Service -->
        <applicationService
                serviceImplementation="com.claudecodechat.services.ClaudeApiService"/>
        
        <!-- Settings Service -->
        <applicationService
                serviceImplementation="com.claudecodechat.settings.ClaudeSettings"/>
        
        <!-- Project Service -->
        <projectService
                serviceImplementation="com.claudecodechat.services.ChatHistoryService"/>
        
        <!-- Notifications -->
        <notificationGroup id="Claude Code Chat"
                          displayType="BALLOON"
                          key="claude.code.chat.notification.group"/>
    </extensions>
    
    <actions>
        <!-- Editor Context Menu Action -->
        <action id="com.claudecodechat.actions.SendToClaudeAction"
                class="com.claudecodechat.actions.SendToClaudeAction"
                text="Send to Claude Chat"
                description="Send selected code to Claude for analysis">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <keyboard-shortcut first-keystroke="ctrl alt C" keymap="$default"/>
        </action>
        
        <!-- Main Menu Action -->
        <group id="com.claudecodechat.MainMenu"
               text="Claude Chat"
               description="Claude Chat actions">
            <add-to-group group-id="MainMenu" anchor="last"/>
            
            <action id="com.claudecodechat.actions.OpenChatAction"
                    class="com.claudecodechat.actions.OpenChatAction"
                    text="Open Claude Chat"
                    description="Open Claude chat window">
                <keyboard-shortcut first-keystroke="ctrl shift C" keymap="$default"/>
            </action>
            
            <action id="com.claudecodechat.actions.ClearChatAction"
                    class="com.claudecodechat.actions.ClearChatAction"
                    text="Clear Chat History"
                    description="Clear current chat history"/>
        </group>
    </actions>
</idea-plugin>